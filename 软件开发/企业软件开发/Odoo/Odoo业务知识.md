

# Odoo业务知识

[TOC]

## 采购

### 业务分类
* 生产性采购：采购企业生产所需的材料
* 商贸性采购：采购用于售卖的商品，以盈利为目的
* 日常用品采购：办公用品、行政用品采购
* 项目性采购：为了项目所需二进行采购

### 工作
* 生产采购计划
* 向供应商询价、议价
* 生产采购单
* 财务审核
* 采购员跟催
* 仓库收货
* 财务付款
* 仓库退货

### 财务处理
* 财务部门要核对三单一致后，才会付款
    * 采购部分的付款申请单
    * 供应商发票
    * 仓库的入库单


## 库存

### 概念
* 库存管理（Inventory Management）
    * 根据外界对库存的要求、企业订购的特点，预测、计划、执行一种补充库存的行为
    * 重点在于确定如何订货、订购多少、何时订货
    

### 复式库存
* 每一笔库存变动，同时记录库存减少和库存增加
* 通过库存移动(stock move)来实现

#### 例子
卖10辆自行车给客户会记录为：自己的库位减去10辆，客户库位增加10辆

系统记录为
| 产品 | 数量 | 源库位 | 目标库位 | 
| -- | -- | -- | -- |
| 自行车 | 10 | stock | Partner Locations > Customers | 

#### 计算库存
* 通过库存移动记录来计算
    * 例子：统计库位A中货物数量，移动记录中目标库位为A的数量，减去源目标库位为A的数量

##### 分类
* 实际库存：库位中实际有的数量
* 虚拟库存：库位中将来的数量（减去未来一段时间出库数据、加上未来一段时间入库数量）

### 库位（location）
#### 概念
* 实际仓库中，分为若干货区：成品区、原料区、废品区
* 货区还可以分：货架、货层
* 库位是用于对以上这些进行建模

#### 分类
* 存货库位（Location Stock）：仓库中存放货物的货区，可以按货架、货层进行细分
* 进货库位（Location Input）：仓库中收货的暂存货区，存放未验收的货物
* 出货库位（Location Output）：仓库中发货的暂存货区，存放等待装运的货物

#### 虚拟库位
* 物理上不存在，仅用于复式库存的库存移动记录
* 供应商库位（Supplier Location）：从供应商收货时的源库位
* 客户库位（Customer Location）：供货给客户时的目标库位
* 盘点库位（Inventory Locaiton）：用于盘货时使用
* 补货库位（Procurement Locaiton）


#### 库位链
* 库位之间串联起来
    * 例子：质检库位 --> 存货库位

##### 移动方式
* 手动转移：系统自动生成下一库位的移动单，要求操作员确认后才实际移动
* 自动转移：系统自动生成下一库位的移动单，不需要操作员确认，直接移动
* 自动跳移：系统不生成下一库位的移动单，直接修改原库存移动的目标库位为下一库位


### 库存价值
* 每一笔库存移动都会自动生成会计上的一笔**库存移动分录**
* 保证会计分录和库存移动能保持一致

#### 设置参数
* 产品的Stock Input Account：产品入库时，入库分录的贷方
* 产品的Stock Output Account：产品出库时，出库分录的借方
* 库位的Stock Input Account：产品人库位时，入库分录的借方
* 库位的Stock Output Account：产品出库位时，出库分录的贷方

#### 例子：
参数
* 产品-自行车 的SIA为 外库，SOA为 外库
* A库位 的SIA为 库存商品-A库，SOA为 库存商品-A库

产品入库记录
| 产品 | 数量 | 源库位 | 目标库位 | 
| -- | -- | -- | -- |
| 自行车 | 10 | Supplier |  A库位 |

    会计分录
    借：库存商品-A库位  2000元
    贷：外库  2000元

销售出库记录
| 产品 | 数量 | 源库位 | 目标库位 | 
| -- | -- | -- | -- |
| 自行车 | 5 |  A库位 | Cusomter | 

    会计分录
    借：外库  1000元
    贷：库存商品-A库   1000元



### 产品补货
* 销售缺货时需要及时进行“补货”
* 通过手动、自动生成补货单来实现

#### 触发点
* 仓管员发现某产品库存太低，手动生成一张补货单
* 按库存生产（Make to Stock）的产品
    * 当库存低于最低库存时，系统会自动生成补货单（最小库存规则）
    * 根据主生产计划，生成补货单
* 按订单生成（Make to Order）的产品
    * 销售确认销售订单时，系统会自动生成补货单



### 路线和规则
#### 推式规则
* 由到达特定位置的产品触发
* 规则作用于目标库位
* 当产品达到特定位置时，将其移动到另一个位置
    * 例子：当产品到达 **收货区** 时，将其移动到 **质量控制区**，完成质量检查后将其移动到 **存储位置**
* 移库规则：从一个库位推送到另一个库位

#### 拉式规则
* 由某些产品的需求触发
* 规则作用于源库位
* 补货规则：某个库位在某个时间点需要一定数量的某种货物，而触发的规则

#### 路线
* 推、拉规则的集合
* 可以应用于：销售订单行、产品分类、产品、仓库





## 会计


### 记账凭证
* 会计上称为 **会计分录**，Odoo中称为 **账户移动(Account Move)**
* 核心含义：资金从一个账号移动到另一个账号
* 记录形式可以理解为：从贷方账户移动到借方账户

#### 例子
下单
> 借：在途物资  1000元
  贷：应付账款  1000元

入库
> 借：库存商品  1000元
  贷：在途物资  1000元

付款
> 借：应付账款  1000元
  贷：库存现金  1000元

#### 特点
* 设置好系统参数，系统会自动生成相应的会计分录
    * 预先设置账户（会计科目）
    * 告知系统：哪个经济活动对应到哪个账户的资金变动
* 根据一段时间内的会计分录，可以统计出各个账户的增减额（资产负债表）


### 凭据
* 会计上称为 **原始凭证**，Odoo成称为 **凭据(Invoice)**
* 目的：给会计分录提供依据
* 是沟通业务部门和财务部门的桥梁

#### 分类
* 采购凭据：在采购订单确认时生成
* 客户凭据：在销售订单确认时生成
* 采购退货凭据
* 销售退货凭据


### 归类账
#### 功能
* 分类显示会计分录
* 设置默认的借方、贷方科目
* 指定凭证号生成方法
* 设置会计分录的参数

#### 分类
* 销售归类账（Sales Journal）
* 采购归类账（Purchase Journal）
* 现金归类账（Cash Jouranl）
* 库存归类账（Stock Journal）


### 支付
#### 模式
* 单个支付：直接在凭据上进行支付，用于无出纳的小公司
* 批量支付：在一个界面上输出多笔收、支信息，用于有出纳的公司


### 重要参数
* 会计分期：按自然年，一个月为一个分期
* 归类账
* 会计科目：财务部规定一级科目、公司内部规定二级、三级科目
* 税种
* 应税设定
* 付款条件：设置什么时间、收/付多少、收/付百分比