

# 基础算法

[TOC]



## 相似度计算

### 欧式距离
#### 特点
* 使用距离来表示相似度
* 结果是一个绝对的客观值
* 适用于分析用户能力模型之间的差异：消费能力、贡献内容

#### 定义
* 在欧式空间下的度量的距离

#### 公式
```math
E = \sqrt{ \sum_{i=1}^{n} ( x_{i} - y_{i} )^2 } 
```

#### 值
* 范围：0 -- 正无穷
* 通常需要转化为 [-1, 1] 或者 [0, 1]



### 余弦相似度
#### 特点
* 使用向量夹角来表示相似度
* 值与向量的长度无关，经过了向量长度归一化处理
* 适用于测量文本相似度、用户相似度、物品相似度

#### 定义
* 取向量夹角的余弦值

#### 公式
##### 一般形式
```math
\cos(\Theta) = \frac{ \sum_{i=1}^{n}(x_i \times y_i) }
                    { \sqrt{\sum_{i=1}^{n}(x_i)^2}
                      \times  \sqrt{\sum_{i=1}^{n}(y_i)^2} } 
```

##### 矩阵形式
```math
\cos(\Theta) = \frac{ a \bullet b }
                    { \left \| a \right \| 
                       \times \left \| b \right \| } 
```

#### 值
* 范围：-1 -- 1
* 1 表示夹角为0度，0表示夹角为90度，-1表示夹角为180度


### 皮尔逊相关系数
#### 特点
* 一种改进后的余弦相似度
* 对向量做了中心化处理（向量减去向量均值）
* 适用于测试两个向量的变化趋势是否一致
* 不适用于计算布尔值向量

#### 公式
```math
R(p,q) = \frac{ \sum_{i=1}^{n}((p_i - \bar{p}) (q_i - \bar{q})) }
                    { \sqrt{\sum_{i=1}^{n}(p_i - \bar{p})^2}
                      \times  \sqrt{\sum_{i=1}^{n}(q_i - \bar{q})^2} }
```

#### 值
* 范围：-1 -- 1
* -1 表示负相关，1表示正相关


### Jaccard相似度
#### 特点
* 适用于计算布尔向量
* 适用于隐式反馈数据

#### 定义
* 两个集合中，交集元素个数占并集元素个数的比例

#### 公式
##### 一般形式
```math
J(p,q)= \frac{ \sum_{i=0}^{n} p_i q_i  }
             { \sum_{i=0}^{n} p_i \mid q_i } 
```

##### 集合形式
```math
J(p,q)= \frac{ \left | P \cap Q  \right | }
             { \left | P \cup  Q  \right | } 
```


## 平滑处理

### 作用
* 解决零概率问题
* 计算测试样本的概率时，如果某个分量在训练集中未出现过，导致整个样本的概率为0

### 思想
* 提高低概率，降低高概率，尽量使概率分布趋于均匀

### 方案
#### 拉普拉斯平滑（加一平滑）
* 方法：计算概率时，分子加一，分母加K（类别数目）

##### 公式
```math
g(x) = \frac{ n_x + \alpha  }{ total + \alpha c } 
```
说明
* n为x类别的次数
* total为总次数
* c为类别数目
* $\alpha$为平滑系数，一般取1，值越大结果越接近均匀分布



## EM算法