

# 正则表达式语法

## 思路

* 养成按照字符来理解正则表达式的习惯
* 完整的正则表达式由小的构建模块单元组成
* 目标：匹配符合要求的文本，同时忽略符合要求的文本


## 元字符

### 字符组 []   
* 同一位置匹配若干字符，字符组内部使用不同的元字符 

#### 例子
* [ae] 匹配 a 或者 e
* [a-z] 匹配 小写字母
* [0-9a-zA-Z] 匹配数字、小写字母、大写字母
* [^1-6]  匹配除了1到6以外的任何字符，需要配置一个字符的

### 匹配行
* **^**  用于匹配行的开始
* **$**  用于匹配行的结束

### 子表达式
* **|**  用于匹配任意子表达式
* 多选结构，每个结构都可以是完整的正则表达式，不能超过括号的界限

#### 例子
* grey | gray  匹配grey 或者 gray
* gr(e|a)y  匹配 grey 获取 gray

### 匹配单词
* **\<**  用于匹配单词的开头，是元字符序列
* **\>**  用于匹配单词的结束，是元字符序列
* \<cat\>  匹配cat这个单词

### 量词
* **?**  匹配单次可选，加在字符后面, 表示可以不出现，也可以出现一次
* **\*** 匹配任意次数，加在字符后面, 表示可以出现无数次，也可以不出现
* **+** 匹配至少一次，加在字符后面, 表示可以出现无数次，至少要出现一次
* **{min, max}** 用于匹配重复次数，从min到max之间

### 其他
* **\\** 转义元字符成为普通字符    
* **. **  用于匹配任意字符  
* **(?: )**  只分组，不进行捕获
 
### 反向引用
* 允许匹配与表达式先前部分匹配的同样的文本
* 使用括号来标注，使用 \num 来引用

### 例子
* \<([A-Za-z]+) + \1 \>     \1用来引用第一个括号匹配的文本


### 环视

#### 类型
* 不匹配任何字符，只匹配文本中的特定位置
* 顺序环视：从左到右的查看文本，进行匹配
* 逆序环视：从右到左的查看文件，进行匹配

#### 格式
* **(?<= )**  肯定逆序环视，子表达式能够匹配左侧文本
* **(?<! )**    否定逆序环视，子表达式不能匹配左侧文本
* **(?= )**     肯定顺序环视，子表达式能够匹配右侧文本
* **(?! )**       否定顺序环视，子表达式不能够匹配右侧文本



### 简记法
*  \t   制表符
*  \n  换行符
*  \r   回车符
*  \s   任何 空白 字符
*  \S   除\s之外的任何字符
*  \w  [a-zA-Z0-9]
*  \W  除\w之外的任何字符
*  \d   数字
*  \D  除\d之外的任何字符  
*  \b  匹配单词起始和结束