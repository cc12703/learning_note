

# PNG格式

## 特性

* 流式网络图形格式
* 保留了GIF的特性，增加了一些新特性
* 使用无损压缩
* 使用CRC校验

## 文件结构

|  主体结构  |
| :--------: |  
| 文件署名域 |
|  文件头数据块 |
| 调试板数据块 |
| 图像数据块 |
| 图像结束数据 |


### 文件署名域
* 一共8个字节
* 值为 137,80,78,71,13,10,26,10

        
### 数据块(chunk)
              
* 分为两个类型：关键数据块(标准)，辅助数据块(可选)
* 由4个域组成

#### 域
* Length : 长度，4个字节，包括TypeCode, Data
* TypeCode : 类型码，4个字节，由ASCII字母组成
* Data : 数据
* CRC : 校验，4个字节

### 关键数据块


#### 文件头数据块(IHDR)
* header chunk
* 该块将作为第一个数据块出现

##### 字段

|  字段名  | 含义 | 大小 |
| :---: | :---: | :---: |
| width | 图像宽度 | 4个字节 |
| height | 图像高度 | 4个字节 |
| depth | 色深 | 1个字节 | 
| colorType | 颜色类型 | 1个字节|
| compression method | 压缩方法 | 1个字节|
| filter | 过滤器方法 | 1个字节 |
| interlace | 隔行扫描方法 | 1个字节 |

#### 调试板数据块(PLTE)
* palette chunk
* 由多个表项组成，每个表项3个字节
* Red 1个字节，Green 1个字节，Blue 1个字节

#### 图像数据块
* image data chunk

#### 图像结束数据  
* image trailer chunk
* 该块将放在文件尾部
